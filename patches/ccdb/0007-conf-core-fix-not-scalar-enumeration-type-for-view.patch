From 321e8369cb745fbf6a4deeb6b7a26cf3af6f47f7 Mon Sep 17 00:00:00 2001
From: Lucas Russo <lerwys@gmail.com>
Date: Tue, 13 Sep 2016 10:01:06 -0300
Subject: [PATCH] conf-core: fix not scalar enumeration type for view

This was causing InvalidArgumentExcepetion.
---
 .../java/org/openepics/discs/conf/ui/lazymodels/DataTypeLazyModel.java   | 1 +
 1 file changed, 1 insertion(+)

diff --git a/conf-core/src/main/java/org/openepics/discs/conf/ui/lazymodels/DataTypeLazyModel.java b/conf-core/src/main/java/org/openepics/discs/conf/ui/lazymodels/DataTypeLazyModel.java
index 3cd6404..bf619f5 100644
--- a/conf-core/src/main/java/org/openepics/discs/conf/ui/lazymodels/DataTypeLazyModel.java
+++ b/conf-core/src/main/java/org/openepics/discs/conf/ui/lazymodels/DataTypeLazyModel.java
@@ -79,6 +79,7 @@ public class DataTypeLazyModel extends CCDBLazyModel<UserEnumerationView> {
         final List<UserEnumerationView> transformedResults = results == null
                                                 ? null
                                                 : results.stream().
+                                                    filter(dt -> dt.isScalar()).
                                                     filter(dt -> !builtInDataTypeNames.contains(dt.getName())).
                                                     map(UserEnumerationView::new).collect(Collectors.toList());
         setEmpty(first, transformedResults);
-- 
1.9.1

